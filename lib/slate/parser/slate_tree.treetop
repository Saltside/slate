module Slate
  grammar SlateTree
    rule document
      (target / function / space)*
    end

    rule target
      space string space '{' space? function? space? '}' <Target>
    end

    rule function
      token space? argument* <Function>
    end

    rule argument
      string ','? space? <Argument>
    end

    rule token
      [a-z]+ <Token>
    end

    rule string
      '"' ('\"' / !'"' .)* '"' <String>
    end

    rule space
      [\s]+
    end
  end
end
